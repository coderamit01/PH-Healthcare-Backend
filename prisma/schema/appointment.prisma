model Appointment {
  id             String            @id @default(uuid(7))
  videoCallingId String            @unique @db.Uuid()
  status         AppointmentStatus @default(SCHEDULED)
  paymentStatus  PaymentStatus     @default(UNPAID)

  patientId String  @unique
  patient   Patient @relation(fields: [patientId], references: [id], onDelete: Cascade)

  scheduleId String   @unique
  schedule   Schedule @relation(fields: [scheduleId], references: [id], onDelete: Cascade)

  doctorId String @unique
  doctor   Doctor @relation(fields: [doctorId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  payment      Payment?
  prescription Prescription?
  review       Review?

  @@index([status])
  @@map("appointment")
}
